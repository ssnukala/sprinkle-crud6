{
  "model": "users",
  "title": "USER.PLURAL",
  "singular_title": "USER.SINGULAR",
  "description": "Manage system users with enhanced features",
  "table": "users",
  "permissions": {
    "read": "uri_users",
    "create": "create_user",
    "update": "update_user_field",
    "delete": "delete_user"
  },
  "default_sort": {
    "user_name": "asc"
  },
  "details": [
    {
      "model": "activities",
      "foreign_key": "user_id",
      "list_fields": ["type", "message", "created_at"],
      "title": "ACTIVITY.PLURAL"
    },
    {
      "model": "roles",
      "foreign_key": "user_id",
      "list_fields": ["name", "slug", "description"],
      "title": "ROLE.PLURAL"
    },
    {
      "model": "permissions",
      "foreign_key": "user_id",
      "list_fields": ["slug", "name", "description"],
      "title": "PERMISSION.PLURAL"
    }
  ],
  "actions": [
    {
      "key": "flag_enabled_action",
      "label": "Toggle Enabled",
      "icon": "toggle-on",
      "type": "field_update",
      "field": "flag_enabled",
      "toggle": true,
      "permission": "update_user_field",
      "confirm": "Are you sure you want to toggle <strong>Enabled</strong> for <strong>{{user_name}}</strong>?",
      "modal_config": {
        "type": "confirm",
        "buttons": "yes_no"
      }
    },
    {
      "key": "flag_verified_action",
      "label": "Toggle Verified",
      "icon": "check-circle",
      "type": "field_update",
      "field": "flag_verified",
      "toggle": true,
      "permission": "update_user_field",
      "confirm": "Are you sure you want to toggle <strong>Verified</strong> for <strong>{{user_name}}</strong>?",
      "modal_config": {
        "type": "confirm",
        "buttons": "yes_no"
      }
    },
    {
      "key": "password_action",
      "label": "Change Password",
      "icon": "key",
      "type": "field_update",
      "field": "password",
      "style": "warning",
      "permission": "update_user_field",
      "confirm": "Enter a new password for <strong>{{user_name}}</strong>.",
      "modal_config": {
        "type": "input",
        "fields": ["password"]
      }
    },
    {
      "key": "reset_password",
      "label": "Send Password Reset",
      "icon": "envelope",
      "type": "api_call",
      "method": "POST",
      "style": "secondary",
      "permission": "update_user_field",
      "confirm": "Are you sure you want to send a password reset email to <strong>{{user_name}}</strong>?",
      "modal_config": {
        "type": "confirm"
      }
    },
    {
      "key": "disable_user",
      "label": "Disable User",
      "icon": "user-slash",
      "type": "field_update",
      "field": "flag_enabled",
      "value": false,
      "style": "danger",
      "permission": "update_user_field",
      "confirm": "Are you sure you want to disable <strong>{{user_name}}</strong>? They will no longer be able to log in.",
      "modal_config": {
        "type": "confirm",
        "buttons": [
          {
            "label": "Cancel",
            "style": "default",
            "action": "cancel",
            "closeModal": true
          },
          {
            "label": "Disable User",
            "icon": "user-slash",
            "style": "danger",
            "action": "confirm",
            "closeModal": true
          }
        ]
      }
    }
  ],
  "fields": {
    "id": {
      "type": "integer",
      "label": "ID",
      "auto_increment": true,
      "editable": false,
      "sortable": true,
      "filterable": false,
      "listable": true
    },
    "user_name": {
      "type": "string",
      "label": "Username",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 3,
          "max": 50
        }
      }
    },
    "email": {
      "type": "string",
      "label": "Email",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "email": true
      }
    },
    "first_name": {
      "type": "string",
      "label": "First Name",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 1,
          "max": 50
        }
      }
    },
    "last_name": {
      "type": "string",
      "label": "Last Name",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 1,
          "max": 50
        }
      }
    },
    "password": {
      "type": "password",
      "label": "Password",
      "required": false,
      "sortable": false,
      "filterable": false,
      "listable": false,
      "viewable": false,
      "editable": true,
      "validation": {
        "length": {
          "min": 8,
          "max": 255
        },
        "match": true
      }
    },
    "locale": {
      "type": "string",
      "label": "Locale",
      "default": "en_US",
      "sortable": false,
      "filterable": true,
      "listable": false
    },
    "theme": {
      "type": "string",
      "label": "Theme",
      "sortable": false,
      "filterable": false,
      "listable": false
    },
    "group_id": {
      "type": "integer",
      "label": "Group",
      "required": false,
      "sortable": true,
      "filterable": true,
      "listable": true
    },
    "flag_verified": {
      "type": "boolean",
      "label": "Verified",
      "default": false,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "viewable": true
    },
    "flag_enabled": {
      "type": "boolean",
      "label": "Enabled",
      "default": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "viewable": true
    },
    "last_activity_id": {
      "type": "integer",
      "label": "Last Activity ID",
      "sortable": false,
      "filterable": false,
      "listable": false
    },
    "created_at": {
      "type": "datetime",
      "label": "Created At",
      "sortable": true,
      "filterable": false,
      "listable": false,
      "viewable": true,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    },
    "updated_at": {
      "type": "datetime",
      "label": "Updated At",
      "sortable": true,
      "filterable": false,
      "listable": false,
      "viewable": true,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    },
    "deleted_at": {
      "type": "datetime",
      "label": "Deleted At",
      "sortable": false,
      "filterable": false,
      "listable": false,
      "viewable": false,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    }
  }
}
