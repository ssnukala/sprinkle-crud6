{
  "model": "users",
  "title": "User Management",
  "singular_title": "User",
  "description": "Manage system users with enhanced features",
  "table": "users",
  "permissions": {
    "read": "uri_users",
    "create": "create_user",
    "update": "update_user_field",
    "delete": "delete_user"
  },
  "default_sort": {
    "user_name": "asc"
  },
  "details": [
    {
      "model": "activities",
      "foreign_key": "user_id",
      "list_fields": ["type", "message", "created_at"],
      "title": "USER.ACTIVITIES"
    },
    {
      "model": "roles",
      "foreign_key": "user_id",
      "list_fields": ["name", "slug", "description"],
      "title": "USER.ROLES"
    },
    {
      "model": "permissions",
      "foreign_key": "user_id",
      "list_fields": ["slug", "name", "description"],
      "title": "USER.PERMISSIONS"
    }
  ],
  "actions": [
    {
      "key": "toggle_enabled",
      "label": "Toggle Enabled",
      "icon": "power-off",
      "type": "field_update",
      "field": "flag_enabled",
      "toggle": true,
      "style": "default",
      "permission": "update_user_field",
      "success_message": "User status updated successfully"
    },
    {
      "key": "toggle_verified",
      "label": "Toggle Verified",
      "icon": "check-circle",
      "type": "field_update",
      "field": "flag_verified",
      "toggle": true,
      "style": "default",
      "permission": "update_user_field",
      "success_message": "User verification status updated successfully"
    },
    {
      "key": "change_password",
      "label": "Change Password",
      "icon": "key",
      "type": "route",
      "route": "user.password",
      "style": "primary",
      "permission": "update_user_field"
    },
    {
      "key": "reset_password",
      "label": "Reset Password",
      "icon": "envelope",
      "type": "api_call",
      "endpoint": "/api/users/{id}/password/reset",
      "method": "POST",
      "style": "secondary",
      "permission": "update_user_field",
      "confirm": "Are you sure you want to send a password reset email to this user?",
      "success_message": "Password reset email sent successfully"
    },
    {
      "key": "disable_user",
      "label": "Disable User",
      "icon": "ban",
      "type": "field_update",
      "field": "flag_enabled",
      "value": false,
      "style": "danger",
      "permission": "update_user_field",
      "confirm": "Are you sure you want to disable this user?",
      "success_message": "User disabled successfully"
    }
  ],
  "fields": {
    "id": {
      "type": "integer",
      "label": "ID",
      "auto_increment": true,
      "readonly": true,
      "sortable": true,
      "filterable": false,
      "listable": true
    },
    "user_name": {
      "type": "string",
      "label": "Username",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 3,
          "max": 50
        }
      }
    },
    "email": {
      "type": "string",
      "label": "Email",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "email": true
      }
    },
    "first_name": {
      "type": "string",
      "label": "First Name",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 1,
          "max": 50
        }
      }
    },
    "last_name": {
      "type": "string",
      "label": "Last Name",
      "required": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "validation": {
        "required": true,
        "length": {
          "min": 1,
          "max": 50
        }
      }
    },
    "password": {
      "type": "string",
      "label": "Password",
      "required": false,
      "sortable": false,
      "filterable": false,
      "listable": false,
      "viewable": false,
      "editable": false,
      "validation": {
        "length": {
          "min": 8,
          "max": 255
        }
      }
    },
    "locale": {
      "type": "string",
      "label": "Locale",
      "default": "en_US",
      "sortable": false,
      "filterable": true,
      "listable": false
    },
    "theme": {
      "type": "string",
      "label": "Theme",
      "sortable": false,
      "filterable": false,
      "listable": false
    },
    "group_id": {
      "type": "integer",
      "label": "Group",
      "required": false,
      "sortable": true,
      "filterable": true,
      "listable": true
    },
    "flag_verified": {
      "type": "boolean",
      "label": "Verified",
      "default": false,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "viewable": true
    },
    "flag_enabled": {
      "type": "boolean",
      "label": "Enabled",
      "default": true,
      "sortable": true,
      "filterable": true,
      "listable": true,
      "viewable": true
    },
    "last_activity_id": {
      "type": "integer",
      "label": "Last Activity ID",
      "sortable": false,
      "filterable": false,
      "listable": false
    },
    "created_at": {
      "type": "datetime",
      "label": "Created At",
      "sortable": true,
      "filterable": false,
      "listable": false,
      "viewable": true,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    },
    "updated_at": {
      "type": "datetime",
      "label": "Updated At",
      "sortable": true,
      "filterable": false,
      "listable": false,
      "viewable": true,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    },
    "deleted_at": {
      "type": "datetime",
      "label": "Deleted At",
      "sortable": false,
      "filterable": false,
      "listable": false,
      "viewable": false,
      "editable": false,
      "date_format": "Y-m-d H:i:s"
    }
  }
}
